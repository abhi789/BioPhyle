{"filter":false,"title":"server.1.js","tooltip":"/server.1.js","ace":{"folds":[],"scrolltop":3750,"scrollleft":0,"selection":{"start":{"row":8,"column":16},"end":{"row":8,"column":16},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":503,"mode":"ace/mode/javascript"}},"undoManager":{"mark":86,"position":86,"stack":[[{"start":{"row":226,"column":0},"end":{"row":226,"column":19},"action":"remove","lines":["//TODO send request"],"id":5571}],[{"start":{"row":283,"column":0},"end":{"row":283,"column":22},"action":"remove","lines":["  console.log(BBBID); "],"id":5572}],[{"start":{"row":283,"column":0},"end":{"row":284,"column":0},"action":"insert","lines":["",""],"id":5573}],[{"start":{"row":288,"column":0},"end":{"row":288,"column":24},"action":"remove","lines":["     console.log(BBBID);"],"id":5574}],[{"start":{"row":291,"column":7},"end":{"row":292,"column":0},"action":"insert","lines":["",""],"id":5575},{"start":{"row":292,"column":0},"end":{"row":292,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":297,"column":10},"end":{"row":298,"column":0},"action":"insert","lines":["",""],"id":5576},{"start":{"row":298,"column":0},"end":{"row":298,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":298,"column":8},"end":{"row":298,"column":10},"action":"insert","lines":["  "],"id":5577}],[{"start":{"row":298,"column":8},"end":{"row":298,"column":10},"action":"remove","lines":["  "],"id":5578}],[{"start":{"row":298,"column":8},"end":{"row":298,"column":9},"action":"insert","lines":["i"],"id":5579}],[{"start":{"row":298,"column":9},"end":{"row":298,"column":10},"action":"insert","lines":["f"],"id":5580}],[{"start":{"row":298,"column":10},"end":{"row":298,"column":12},"action":"insert","lines":["()"],"id":5581}],[{"start":{"row":298,"column":11},"end":{"row":298,"column":27},"action":"insert","lines":["req.query !== {}"],"id":5582}],[{"start":{"row":298,"column":20},"end":{"row":298,"column":21},"action":"insert","lines":["."],"id":5583}],[{"start":{"row":298,"column":21},"end":{"row":298,"column":22},"action":"insert","lines":["i"],"id":5584}],[{"start":{"row":298,"column":22},"end":{"row":298,"column":23},"action":"insert","lines":["n"],"id":5585}],[{"start":{"row":298,"column":23},"end":{"row":298,"column":24},"action":"insert","lines":["t"],"id":5586}],[{"start":{"row":298,"column":24},"end":{"row":298,"column":25},"action":"insert","lines":["e"],"id":5587}],[{"start":{"row":298,"column":25},"end":{"row":298,"column":26},"action":"insert","lines":["r"],"id":5588}],[{"start":{"row":298,"column":26},"end":{"row":298,"column":27},"action":"insert","lines":["v"],"id":5589}],[{"start":{"row":298,"column":27},"end":{"row":298,"column":28},"action":"insert","lines":["a"],"id":5590}],[{"start":{"row":298,"column":21},"end":{"row":298,"column":28},"action":"remove","lines":["interva"],"id":5591},{"start":{"row":298,"column":21},"end":{"row":298,"column":29},"action":"insert","lines":["interval"]}],[{"start":{"row":298,"column":37},"end":{"row":299,"column":0},"action":"insert","lines":["",""],"id":5592},{"start":{"row":299,"column":0},"end":{"row":299,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":299,"column":8},"end":{"row":299,"column":9},"action":"insert","lines":["{"],"id":5593}],[{"start":{"row":302,"column":81},"end":{"row":303,"column":0},"action":"insert","lines":["",""],"id":5594},{"start":{"row":303,"column":0},"end":{"row":303,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":303,"column":8},"end":{"row":303,"column":9},"action":"insert","lines":["}"],"id":5595}],[{"start":{"row":300,"column":0},"end":{"row":300,"column":2},"action":"insert","lines":["  "],"id":5596},{"start":{"row":301,"column":0},"end":{"row":301,"column":2},"action":"insert","lines":["  "]},{"start":{"row":302,"column":0},"end":{"row":302,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":297,"column":9},"end":{"row":297,"column":10},"action":"remove","lines":["/"],"id":5597}],[{"start":{"row":297,"column":8},"end":{"row":297,"column":9},"action":"remove","lines":["*"],"id":5598}],[{"start":{"row":297,"column":6},"end":{"row":297,"column":8},"action":"remove","lines":["  "],"id":5599}],[{"start":{"row":297,"column":4},"end":{"row":297,"column":6},"action":"remove","lines":["  "],"id":5600}],[{"start":{"row":297,"column":2},"end":{"row":297,"column":4},"action":"remove","lines":["  "],"id":5601}],[{"start":{"row":293,"column":9},"end":{"row":293,"column":10},"action":"remove","lines":["*"],"id":5602}],[{"start":{"row":293,"column":8},"end":{"row":293,"column":9},"action":"remove","lines":["/"],"id":5603}],[{"start":{"row":293,"column":8},"end":{"row":293,"column":24},"action":"insert","lines":["req.query !== {}"],"id":5604}],[{"start":{"row":293,"column":18},"end":{"row":293,"column":19},"action":"remove","lines":["!"],"id":5605}],[{"start":{"row":293,"column":18},"end":{"row":293,"column":19},"action":"remove","lines":["="],"id":5606}],[{"start":{"row":293,"column":17},"end":{"row":293,"column":18},"action":"remove","lines":[" "],"id":5607}],[{"start":{"row":293,"column":17},"end":{"row":293,"column":18},"action":"insert","lines":[" "],"id":5608}],[{"start":{"row":293,"column":18},"end":{"row":293,"column":19},"action":"insert","lines":["+"],"id":5609}],[{"start":{"row":293,"column":18},"end":{"row":293,"column":19},"action":"remove","lines":["+"],"id":5610}],[{"start":{"row":293,"column":18},"end":{"row":293,"column":19},"action":"insert","lines":["+"],"id":5611}],[{"start":{"row":293,"column":18},"end":{"row":293,"column":19},"action":"remove","lines":["+"],"id":5612}],[{"start":{"row":293,"column":6},"end":{"row":293,"column":22},"action":"remove","lines":["  req.query = {}"],"id":5613}],[{"start":{"row":293,"column":4},"end":{"row":293,"column":6},"action":"remove","lines":["  "],"id":5614}],[{"start":{"row":293,"column":2},"end":{"row":293,"column":4},"action":"remove","lines":["  "],"id":5615}],[{"start":{"row":293,"column":0},"end":{"row":293,"column":2},"action":"remove","lines":["  "],"id":5616}],[{"start":{"row":292,"column":8},"end":{"row":293,"column":0},"action":"remove","lines":["",""],"id":5617}],[{"start":{"row":297,"column":6},"end":{"row":302,"column":9},"action":"remove","lines":["  if(req.query.interval !== {})","        {","          message = Buffer.alloc(1024);","          serializnotifyemessage(message,BBBID1,MQTT_PUBLISH_MESSAGE,MQTT_TOPIC_NOTIFY_TEMP_ANALOG, sensor, interval, 120 );","          recvsocket.send(message,0,message.length,PORT,HOST,socketerrorhandler());","        }"],"id":5618}],[{"start":{"row":291,"column":7},"end":{"row":292,"column":0},"action":"insert","lines":["",""],"id":5619},{"start":{"row":292,"column":0},"end":{"row":292,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":292,"column":8},"end":{"row":297,"column":9},"action":"insert","lines":["  if(req.query.interval !== {})","        {","          message = Buffer.alloc(1024);","          serializnotifyemessage(message,BBBID1,MQTT_PUBLISH_MESSAGE,MQTT_TOPIC_NOTIFY_TEMP_ANALOG, sensor, interval, 120 );","          recvsocket.send(message,0,message.length,PORT,HOST,socketerrorhandler());","        }"],"id":5620}],[{"start":{"row":298,"column":8},"end":{"row":298,"column":9},"action":"insert","lines":["e"],"id":5621}],[{"start":{"row":298,"column":9},"end":{"row":298,"column":10},"action":"insert","lines":["l"],"id":5622}],[{"start":{"row":298,"column":10},"end":{"row":298,"column":11},"action":"insert","lines":["s"],"id":5623}],[{"start":{"row":298,"column":11},"end":{"row":298,"column":12},"action":"insert","lines":["e"],"id":5624}],[{"start":{"row":298,"column":12},"end":{"row":299,"column":0},"action":"insert","lines":["",""],"id":5625},{"start":{"row":299,"column":0},"end":{"row":299,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":299,"column":8},"end":{"row":299,"column":9},"action":"insert","lines":["{"],"id":5626}],[{"start":{"row":303,"column":2},"end":{"row":303,"column":4},"action":"insert","lines":["  "],"id":5627}],[{"start":{"row":303,"column":4},"end":{"row":303,"column":6},"action":"insert","lines":["  "],"id":5628}],[{"start":{"row":303,"column":6},"end":{"row":303,"column":8},"action":"insert","lines":["  "],"id":5629}],[{"start":{"row":303,"column":8},"end":{"row":303,"column":9},"action":"insert","lines":["}"],"id":5630}],[{"start":{"row":300,"column":0},"end":{"row":300,"column":2},"action":"insert","lines":["  "],"id":5631},{"start":{"row":301,"column":0},"end":{"row":301,"column":2},"action":"insert","lines":["  "]},{"start":{"row":302,"column":0},"end":{"row":302,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":292,"column":37},"end":{"row":292,"column":38},"action":"remove","lines":["}"],"id":5632}],[{"start":{"row":292,"column":36},"end":{"row":292,"column":37},"action":"remove","lines":["{"],"id":5633}],[{"start":{"row":292,"column":35},"end":{"row":292,"column":36},"action":"remove","lines":[" "],"id":5634}],[{"start":{"row":292,"column":34},"end":{"row":292,"column":35},"action":"remove","lines":["="],"id":5635}],[{"start":{"row":292,"column":33},"end":{"row":292,"column":34},"action":"remove","lines":["="],"id":5636}],[{"start":{"row":292,"column":32},"end":{"row":292,"column":33},"action":"remove","lines":["!"],"id":5637}],[{"start":{"row":292,"column":32},"end":{"row":292,"column":33},"action":"insert","lines":[" "],"id":5638}],[{"start":{"row":292,"column":33},"end":{"row":292,"column":34},"action":"insert","lines":["="],"id":5639}],[{"start":{"row":292,"column":34},"end":{"row":292,"column":35},"action":"insert","lines":["="],"id":5640}],[{"start":{"row":292,"column":35},"end":{"row":292,"column":36},"action":"insert","lines":[" "],"id":5641}],[{"start":{"row":292,"column":36},"end":{"row":292,"column":37},"action":"insert","lines":["0"],"id":5642}],[{"start":{"row":294,"column":10},"end":{"row":296,"column":83},"action":"remove","lines":["message = Buffer.alloc(1024);","          serializnotifyemessage(message,BBBID1,MQTT_PUBLISH_MESSAGE,MQTT_TOPIC_NOTIFY_TEMP_ANALOG, sensor, interval, 120 );","          recvsocket.send(message,0,message.length,PORT,HOST,socketerrorhandler());"],"id":5643}],[{"start":{"row":297,"column":9},"end":{"row":298,"column":0},"action":"insert","lines":["",""],"id":5644},{"start":{"row":298,"column":0},"end":{"row":298,"column":10},"action":"insert","lines":["          "]}],[{"start":{"row":298,"column":10},"end":{"row":298,"column":12},"action":"insert","lines":["  "],"id":5645}],[{"start":{"row":298,"column":10},"end":{"row":298,"column":12},"action":"remove","lines":["  "],"id":5646}],[{"start":{"row":298,"column":10},"end":{"row":300,"column":83},"action":"insert","lines":["message = Buffer.alloc(1024);","          serializnotifyemessage(message,BBBID1,MQTT_PUBLISH_MESSAGE,MQTT_TOPIC_NOTIFY_TEMP_ANALOG, sensor, interval, 120 );","          recvsocket.send(message,0,message.length,PORT,HOST,socketerrorhandler());"],"id":5647}],[{"start":{"row":301,"column":0},"end":{"row":303,"column":83},"action":"remove","lines":["          message = Buffer.alloc(1024);","          serializemessage(message,BBBID1,MQTT_PUBLISH_MESSAGE,MQTT_TOPIC_GET_TEMP_ANALOG, sensor, 0);","          recvsocket.send(message,0,message.length,PORT,HOST,socketerrorhandler());"],"id":5648}],[{"start":{"row":293,"column":9},"end":{"row":294,"column":0},"action":"insert","lines":["",""],"id":5649},{"start":{"row":294,"column":0},"end":{"row":294,"column":10},"action":"insert","lines":["          "]}],[{"start":{"row":294,"column":10},"end":{"row":296,"column":83},"action":"insert","lines":["          message = Buffer.alloc(1024);","          serializemessage(message,BBBID1,MQTT_PUBLISH_MESSAGE,MQTT_TOPIC_GET_TEMP_ANALOG, sensor, 0);","          recvsocket.send(message,0,message.length,PORT,HOST,socketerrorhandler());"],"id":5650}],[{"start":{"row":294,"column":18},"end":{"row":294,"column":20},"action":"remove","lines":["  "],"id":5651}],[{"start":{"row":294,"column":16},"end":{"row":294,"column":18},"action":"remove","lines":["  "],"id":5652}],[{"start":{"row":294,"column":14},"end":{"row":294,"column":16},"action":"remove","lines":["  "],"id":5653}],[{"start":{"row":294,"column":12},"end":{"row":294,"column":14},"action":"remove","lines":["  "],"id":5654}],[{"start":{"row":294,"column":10},"end":{"row":294,"column":12},"action":"remove","lines":["  "],"id":5655}],[{"start":{"row":303,"column":83},"end":{"row":303,"column":84},"action":"insert","lines":["="],"id":5656}],[{"start":{"row":303,"column":83},"end":{"row":303,"column":84},"action":"remove","lines":["="],"id":5657}],[{"start":{"row":336,"column":3},"end":{"row":387,"column":3},"action":"insert","lines":["  ","  if(BBBID == BBBID1)","  {","","     ","      if(sensor == 'TMP36')","      {","          if(req.query.interval  == 0)","        {","          message = Buffer.alloc(1024);","          serializemessage(message,BBBID1,MQTT_PUBLISH_MESSAGE,MQTT_TOPIC_GET_TEMP_ANALOG, sensor, 0);","          recvsocket.send(message,0,message.length,PORT,HOST,socketerrorhandler());","          ","        }","        else","        {","          message = Buffer.alloc(1024);","          serializnotifyemessage(message,BBBID1,MQTT_PUBLISH_MESSAGE,MQTT_TOPIC_NOTIFY_TEMP_ANALOG, sensor, interval, 120 );","          recvsocket.send(message,0,message.length,PORT,HOST,socketerrorhandler());","","        }","      ","      }","      if(sensor == 'DS18B20')","      {","        message = Buffer.alloc(1024);","        serializemessage(message,BBBID1,MQTT_PUBLISH_MESSAGE,MQTT_TOPIC_GET_TEMP_DIGITAL, sensor, 0);","        recvsocket.send(message,0,message.length,PORT,HOST,socketerrorhandler());","      }","      ","      if(actuator == 'LED1')","      {","\tconsole.log(actuator);","        message = Buffer.alloc(1020);","        if(toggle==\"on\")","        {","\t    console.log(toggle);","            serializemessage(message,BBBID1,MQTT_PUBLISH_MESSAGE,MQTT_TOPIC_LED, 'LED1', 1);","\t    ","        }","        if(toggle==\"off\")","        {","            serializemessage(message,BBBID1,MQTT_PUBLISH_MESSAGE,MQTT_TOPIC_LED, 'LED1', 0);","        }","                ","         recvsocket.send(message,0,message.length,PORT,HOST,socketerrorhandler());","      }  ","      ","      ","  }","  ","   "],"id":5658}]]},"timestamp":1480716374458,"hash":"f3655f109c01cb6398f6cdd4223f5a57d2bb1bba"}